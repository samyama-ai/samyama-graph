testcase_id,usecase_id,requirement_ids,test_type,test_category,name,description,preconditions,test_steps,expected_result,test_data,priority,automated,estimated_duration,notes
TC001,UC001,REQ-GRAPH-001|REQ-GRAPH-002,Functional,Core,Create Node with Single Label,"Verify creation of a single node with one label","Database running, Connection established","1. Execute: CREATE (n:Person {name: 'Alice', age: 30}) RETURN n; 2. Verify response contains node ID; 3. Query to verify node exists","Node created successfully, Node ID returned, Node queryable with properties",Test user data,Critical,Yes,5 min,Part of smoke test suite
TC002,UC001,REQ-GRAPH-006,Functional,Core,Create Node with Multiple Labels,"Verify node can have multiple labels","Database running, Connection established","1. Execute: CREATE (n:Person:Employee {name: 'Bob', empId: 'E123'}); 2. Query: MATCH (n:Person:Employee) WHERE n.name = 'Bob' RETURN n; 3. Verify both labels present","Node has both Person and Employee labels, Query matches node, Properties correct",Test employee data,Critical,Yes,5 min,
TC003,UC001,REQ-GRAPH-003|REQ-GRAPH-007,Functional,Core,Create Directed Edge,"Verify creation of directed edge between nodes","Two nodes exist in database","1. Execute: MATCH (a:Person {name: 'Alice'}), (b:Person {name: 'Bob'}) CREATE (a)-[r:FRIENDS_WITH {since: 2020}]->(b) RETURN r; 2. Verify edge created; 3. Verify direction is correct","Directed edge created from Alice to Bob, Edge type FRIENDS_WITH, Property 'since' = 2020",Test friendship data,Critical,Yes,10 min,
TC004,UC001,REQ-GRAPH-008,Functional,Core,Create Multiple Edges Between Same Nodes,"Verify multiple edges can exist between the same pair of nodes","Two nodes exist in database","1. Create first edge: MATCH (a), (b) CREATE (a)-[:KNOWS {context: 'work'}]->(b); 2. Create second edge: MATCH (a), (b) CREATE (a)-[:KNOWS {context: 'school'}]->(b); 3. Query both edges","Two KNOWS edges exist between same nodes with different properties",Test multi-relationship data,High,Yes,10 min,
TC005,UC001,REQ-GRAPH-004|REQ-GRAPH-005,Functional,Core,Create Node with All Property Types,"Verify all property data types are supported","Database running","1. Create node with all types: CREATE (n:Test {str: 'text', int: 42, float: 3.14, bool: true, date: datetime('2025-01-15T10:30:00'), arr: [1,2,3], map: {key: 'value'}}); 2. Query node; 3. Verify all properties","All property types stored correctly, Properties retrievable with correct types",Comprehensive property test data,Critical,Yes,15 min,Validate type coercion
TC006,UC002,REQ-TENANT-001|REQ-TENANT-002,Functional,Multi-Tenancy,Create Isolated Tenant,"Verify tenant creation provides logical isolation","Cluster running, Admin credentials available","1. Call API: POST /api/tenants {name: 'tenant_A'}; 2. Verify tenant created; 3. Create data in tenant_A; 4. Attempt to access from tenant_B; 5. Verify access denied","Tenant created successfully, Data isolated, Cross-tenant access denied",Multi-tenant test data,Critical,Yes,20 min,Core multi-tenancy validation
TC007,UC002,REQ-TENANT-003,Functional,Multi-Tenancy,Enforce Memory Quota,"Verify tenant cannot exceed configured memory quota","Tenant created with 1GB memory quota, Load generator ready","1. Create tenant with 1GB quota; 2. Start loading data; 3. Monitor memory usage; 4. Continue loading past 1GB; 5. Verify writes rejected or eviction triggered","Memory usage does not exceed 1GB, Appropriate error message when quota reached, Quota enforcement immediate",Large dataset for quota testing,Critical,Yes,30 min,Monitor for memory leaks
TC008,UC002,REQ-TENANT-004,Security,Multi-Tenancy,Tenant Authentication,"Verify tenant-level authentication works correctly","Multiple tenants exist, User credentials created per tenant","1. Authenticate as tenant_A user; 2. Execute query in tenant_A context; 3. Attempt to authenticate as tenant_B with tenant_A credentials; 4. Verify authentication fails","Tenant_A user can authenticate to tenant_A, Tenant_A credentials rejected for tenant_B, No credential leakage",Multiple tenant credentials,Critical,Yes,15 min,Security critical test
TC009,UC003,REQ-PERF-001|REQ-CYPHER-006,Performance,Query,Simple Pattern Match Latency,"Verify 1-2 hop pattern match executes in < 10ms p99","1M node graph loaded, Indices created on labels","1. Execute 1000 queries: MATCH (a:Person)-[:KNOWS]->(b) WHERE a.id = random() RETURN b; 2. Measure p50, p95, p99 latencies; 3. Verify p99 < 10ms","p99 latency < 10ms, p95 latency < 5ms, p50 latency < 2ms, No timeouts",1M node social graph,Critical,Yes,10 min,Run on production-like hardware
TC010,UC003,REQ-PERF-005|REQ-PERF-007,Performance,Scale,Multi-Hop Traversal on Billion-Node Graph,"Verify 3-hop traversal on 1B node graph executes in < 100ms","1B node graph loaded, Cluster scaled appropriately, Indices optimized","1. Execute query: MATCH (a:Person)-[:KNOWS*1..3]->(b:Person) WHERE a.id = X RETURN b; 2. Measure execution time; 3. Verify result accuracy; 4. Check memory usage","Execution time < 100ms, Results accurate, Memory usage < 80% of available, No OOM errors",1B node synthetic graph,Critical,Yes,30 min,Requires large test cluster
TC011,UC004,REQ-DIST-004|REQ-AVAIL-002,Reliability,Distributed,Leader Failover,"Verify automatic leader election when leader crashes","3-node Raft cluster running, Write load active, Monitoring configured","1. Identify current leader; 2. Kill leader process (kill -9); 3. Start timer; 4. Monitor for new leader election; 5. Measure failover time; 6. Verify writes resume; 7. Validate data consistency","New leader elected in < 30s, Writes resume automatically, No data loss, Consistency maintained across nodes",Continuous write workload,Critical,Yes,15 min,Chaos testing essential
TC012,UC004,REQ-AVAIL-003|REQ-DIST-006,Reliability,Distributed,No Data Loss on Node Failure,"Verify no committed writes are lost when node fails","3-node cluster, Write operations in progress, WAL enabled","1. Start writing data with confirmation; 2. Track committed writes; 3. Kill one follower node; 4. Continue writes; 5. Restore failed node; 6. Verify all committed writes present","All acknowledged writes present after recovery, No data corruption, Checksums match",Tracked write dataset,Critical,Yes,20 min,Use checksums for validation
TC013,UC005,REQ-OPS-005|REQ-OPS-007,Functional,Operations,Backup to S3,"Verify backup completes successfully and data stored in S3","Cluster running, S3 bucket configured, AWS credentials available, Sample data loaded","1. Trigger backup: POST /api/backup {destination: 's3://bucket/backup-1'}; 2. Monitor backup progress; 3. Wait for completion; 4. Verify file in S3; 5. Check backup metadata","Backup completes without errors, Backup file exists in S3, Metadata includes timestamp and size, Backup size reasonable",Production-like dataset (10GB),Critical,Yes,60 min,Validate compression
TC014,UC005,REQ-OPS-006|REQ-PERSIST-004,Functional,Operations,Restore from Backup,"Verify successful restore from backup file","Backup file available in S3, Target cluster provisioned (empty), Restore tool configured","1. Initiate restore: POST /api/restore {source: 's3://bucket/backup-1'}; 2. Monitor restore progress; 3. Wait for completion; 4. Verify node/edge counts; 5. Run sample queries; 6. Compare checksums with source","Restore completes successfully, Node/edge counts match source, Sample queries return same results, Checksums match",Backup file from TC013,Critical,Yes,60 min,Measure RTO
TC015,UC006,REQ-CYPHER-009|REQ-OPS-003,Functional,Query,Query Optimization with EXPLAIN,"Verify EXPLAIN shows query execution plan","Database with sample data, Index created on Person.age","1. Run: EXPLAIN MATCH (n:Person) WHERE n.age > 30 RETURN n; 2. Parse EXPLAIN output; 3. Verify plan shows index usage; 4. Identify operators (IndexScan, Filter, etc.); 5. Verify cost estimates present","EXPLAIN output shows logical plan, Index usage visible, Operators identified, Cost estimates reasonable",Sample person dataset,High,Yes,10 min,Part of developer workflow
TC016,UC006,REQ-CYPHER-009,Performance,Query,Query Performance Improvement After Index,"Verify query performance improves after creating appropriate index","Dataset with 100K nodes, No indices initially","1. Run query without index, measure time; 2. Create index on filtered property; 3. Run same query, measure time; 4. Compare times; 5. Verify speedup > 10x","Query time reduced by > 10x, Index used in query plan (via EXPLAIN), p99 latency < 10ms after index",100K node dataset,High,Yes,15 min,Document optimization patterns
TC017,UC007,REQ-COMPAT-003|REQ-DIST-001,Integration,Deployment,Kubernetes Deployment,"Verify successful deployment on Kubernetes","Kubernetes cluster available, kubectl configured, Helm charts available, Storage class configured","1. Run: helm install samyama ./charts/samyama --set replicaCount=3; 2. Watch pods start: kubectl get pods -w; 3. Verify all pods Running; 4. Check PVCs bound; 5. Test connectivity; 6. Verify Raft cluster formed","All 3 pods Running, PVCs Bound, Service accessible, Raft cluster healthy with 1 leader + 2 followers",Kubernetes cluster (3 worker nodes),High,Yes,30 min,Test on multiple K8s versions
TC018,UC008,REQ-SEC-002,Security,TLS,TLS Connection,"Verify TLS encryption for client connections","TLS certificates configured, Server started with TLS enabled, Client configured for TLS","1. Attempt plaintext connection, expect failure; 2. Connect with TLS enabled; 3. Verify handshake succeeds; 4. Capture network traffic; 5. Verify traffic encrypted; 6. Execute query over TLS; 7. Verify results correct","Plaintext connection rejected, TLS connection succeeds, Traffic encrypted (verified with tcpdump), Queries execute correctly",TLS test certificates,Critical,Yes,20 min,Use valid (non-self-signed) certs in prod
TC019,UC008,REQ-SEC-003,Security,RBAC,Role-Based Access Control,"Verify RBAC enforces permissions correctly","Users created with different roles (admin, read-write, read-only), Test queries prepared","1. Login as read-only user; 2. Attempt write query (CREATE); 3. Verify denied; 4. Execute read query (MATCH); 5. Verify allowed; 6. Login as admin; 7. Execute same write query; 8. Verify allowed","Read-only user can read but not write, Admin user can read and write, Appropriate error messages for denied operations",RBAC test users and roles,Critical,Yes,20 min,Test all role combinations
TC020,UC009,REQ-OPS-001|REQ-AVAIL-005,Reliability,Monitoring,Memory Alert Detection,"Verify alert fires when memory threshold exceeded","Prometheus configured, Grafana alert rules defined, Alert threshold set at 85%","1. Trigger memory usage increase (load large dataset); 2. Monitor memory metrics; 3. Wait for memory to exceed 85%; 4. Verify alert fires; 5. Check alert notification (email/Slack); 6. Resolve alert by freeing memory","Alert fires within 2 minutes of threshold breach, Alert notification sent to configured channels, Alert resolves when memory drops below threshold",Large test dataset,High,Yes,30 min,Test alert routing
TC021,UC010,REQ-PERF-002|REQ-SCALE-003,Performance,Load,10K Concurrent Queries,"Verify system handles 10K concurrent read queries","Load testing tool (redis-benchmark) configured, Test cluster deployed, Sample data loaded","1. Run: redis-benchmark -c 10000 -n 1000000 GRAPH.QUERY 'MATCH (n:Person) RETURN n LIMIT 10'; 2. Monitor query latency; 3. Monitor system resources; 4. Capture results; 5. Analyze p50/p95/p99 latencies","Throughput > 100K queries/sec, p99 latency < 10ms, No connection errors, System CPU < 80%",Pre-loaded test dataset,Critical,Yes,15 min,Run on production-spec hardware
TC022,UC010,REQ-PERF-003,Performance,Load,1K Concurrent Writes,"Verify system handles 1K concurrent write operations per second","Write load generator configured, Test cluster deployed","1. Start write load: 1000 CREATE operations/second; 2. Run for 5 minutes; 3. Monitor write latency; 4. Monitor WAL performance; 5. Verify data integrity after load; 6. Check for write errors","Write throughput >= 1K ops/sec sustained, p99 write latency < 50ms, No write errors, Data integrity validated",Write operation dataset,Critical,Yes,10 min,Monitor disk I/O
TC023,UC011,REQ-REDIS-006|REQ-COMPAT-001,Integration,Client,Python Redis Client Compatibility,"Verify redis-py client can connect and execute graph queries","Python 3.8+, redis-py installed, Samyama instance running","1. In Python: import redis; r = redis.Redis(host='localhost', port=6379); 2. Execute: r.execute_command('GRAPH.QUERY', 'mygraph', 'CREATE (n:Test) RETURN n'); 3. Verify response; 4. Parse result; 5. Close connection","Connection successful, Query executes without errors, Result parsed correctly, Connection closes cleanly",Python test script,High,Yes,10 min,Test multiple client library versions
TC024,UC012,REQ-AVAIL-004,Functional,Operations,Rolling Upgrade,"Verify rolling upgrade with zero downtime","3-node cluster running v1.0, v1.1 binaries available, Load test generating traffic","1. Note current version; 2. Drain node-1; 3. Stop node-1; 4. Upgrade to v1.1; 5. Start node-1; 6. Verify rejoins cluster; 7. Repeat for node-2, node-3; 8. Monitor query success rate throughout","Query success rate > 99% during upgrade, No downtime, All nodes upgraded to v1.1, New features available",Continuous query load,Critical,Partial,120 min,Requires version compatibility
TC025,UC013,REQ-REDIS-007,Functional,Batch,Redis Pipelining,"Verify batch operations via Redis pipelining improve performance","Redis client with pipeline support, Samyama running, Benchmark data prepared","1. Execute 1000 CREATE commands without pipelining, measure time; 2. Execute same 1000 CREATE commands with pipelining, measure time; 3. Compare times; 4. Verify all operations succeeded","Pipelined operations complete > 5x faster than individual commands, All operations successful, No data corruption",1000 node creation commands,High,Yes,15 min,Document pipelining best practices
TC026,UC014,REQ-CYPHER-005,Functional,Query,Shortest Path Query,"Verify shortest path query finds correct path","Graph with multiple paths between nodes, Known shortest path documented","1. Execute: MATCH path = shortestPath((a:Person {name: 'Alice'})-[*]-(b:Person {name: 'David'})) RETURN path; 2. Verify path length; 3. Verify path nodes/edges; 4. Compare with expected path","Shortest path found, Path length is minimum possible, Path nodes/edges correct, Query execution < 50ms",Test graph with known paths,High,Yes,10 min,Test on disconnected components
TC027,UC015,REQ-TENANT-003|REQ-MEM-006,Functional,Multi-Tenancy,Tenant Memory Quota Enforcement,"Verify tenant cannot exceed memory quota and other tenants unaffected","2 tenants configured (tenant_A: 2GB quota, tenant_B: 4GB quota), Load generator for tenant_A","1. Load data into tenant_A until quota reached; 2. Verify writes rejected/evicted; 3. Verify error message; 4. Simultaneously load data into tenant_B; 5. Verify tenant_B unaffected; 6. Verify tenant_B can use its full quota","Tenant_A cannot exceed 2GB, Clear quota exceeded error, Tenant_B operates normally, Tenant_B can use full 4GB quota",Large test datasets for both tenants,Critical,Yes,30 min,Test quota enforcement mechanisms
TC028,UC016,REQ-DIST-005|REQ-AVAIL-003,Reliability,Distributed,Data Consistency After Network Partition,"Verify split-brain prevention and consistency after partition heals","3-node cluster, Network partition simulation tool (iptables/tc), Continuous write load, Checksum validation tool","1. Start continuous writes; 2. Partition network (isolate 1 node); 3. Verify minority rejects writes; 4. Verify majority accepts writes; 5. Heal partition; 6. Wait for catch-up; 7. Compute checksums on all nodes; 8. Verify checksums match","Minority partition rejects writes, Majority continues, No split-brain, All nodes consistent after healing (checksums match), No data loss",Continuous write workload with checksums,Critical,Yes,45 min,Critical distributed systems test
TC029,UC017,REQ-DIST-003|REQ-PERF-004,Scalability,Horizontal Scaling,Linear Read Scaling with Additional Nodes,"Verify read throughput scales linearly when adding read replicas","Baseline cluster (1 leader + 2 followers), 2 additional follower nodes available, Read load generator","1. Measure baseline read throughput (3 nodes); 2. Add 2 follower nodes; 3. Configure load balancer for all 5 nodes; 4. Measure new read throughput; 5. Calculate scaling factor","Read throughput increases by ~66% (2/3 more nodes), Linear scaling within 20% margin, All nodes receive balanced load, p99 latency maintained",Read-heavy workload,High,Yes,60 min,Validate load balancing algorithm
TC030,UC018,REQ-CYPHER-004|REQ-CYPHER-008,Functional,Query,Aggregation with GROUP BY,"Verify aggregation functions work correctly","Graph with Person nodes (age, city properties), Sample data covers multiple cities","1. Execute: MATCH (p:Person) RETURN p.city, COUNT(p) as count, AVG(p.age) as avg_age ORDER BY count DESC; 2. Verify grouping by city; 3. Verify COUNT accurate; 4. Verify AVG correct; 5. Verify ORDER BY works","Results grouped by city, COUNT correct for each city, AVG calculated correctly, Results sorted by count descending",Diverse person dataset,High,Yes,10 min,Test all aggregate functions (SUM, MIN, MAX, etc.)
TC031,UC019,REQ-SEC-005|REQ-OPS-004,Security,Audit,Security Event Audit Logging,"Verify all security events are logged for compliance","Audit logging enabled, Log retention configured, Test user credentials, Audit log viewer/parser","1. Perform successful login; 2. Perform failed login; 3. Execute privileged operation (create user); 4. Attempt unauthorized access; 5. Review audit logs; 6. Verify all events captured with required fields (timestamp, user, action, result)","All authentication attempts logged (success and failure), Privileged operations logged, Unauthorized access attempts logged, Logs include required fields, Logs tamper-proof",Security test scenarios,Critical,Yes,30 min,Compliance requirement
TC032,UC020,REQ-AVAIL-002|REQ-DIST-004,Reliability,Chaos,Node Crash During Write Operations,"Chaos test: Validate no data loss when node crashes during active writes","Test cluster, Chaos engineering tool (Chaos Mesh or custom), Write generator tracking commits, Data integrity validator","1. Start continuous writes (tracking acknowledged writes); 2. Randomly crash one node (kill -9); 3. Continue writes; 4. Verify writes continue succeeding; 5. Restart crashed node; 6. Verify node rejoins; 7. Validate all acknowledged writes present (checksum)","Write success rate remains high (> 99%), All acknowledged writes present after recovery, No data corruption, Node rejoins automatically within 2 minutes",Tracked write dataset with checksums,Critical,Yes,30 min,Repeat 10 times for statistical confidence
TC033,UC021,REQ-REDIS-002|REQ-SEC-001,Integration,Client,Python Client Connection with Authentication,"Verify Python client can authenticate and execute queries","Python environment, redis-py installed, Samyama with auth enabled, Test credentials created","1. Connect without auth, expect error; 2. Connect with AUTH command; 3. Execute query; 4. Verify result; 5. Test incorrect credentials; 6. Verify authentication failure","Unauthenticated connection rejected, Authenticated connection succeeds, Queries execute successfully, Incorrect credentials rejected with clear error",Python integration test suite,High,Yes,15 min,Document authentication flow
TC034,UC023,REQ-OPS-001|REQ-OPS-002,Integration,Monitoring,Prometheus Metrics Collection,"Verify Prometheus successfully scrapes metrics from Samyama","Prometheus server running, Samyama metrics endpoint configured (/metrics), Prometheus scrape config updated","1. Configure Prometheus target; 2. Verify target shows UP in Prometheus; 3. Query sample metrics (graph_queries_total); 4. Execute some queries to generate metrics; 5. Verify metrics update in Prometheus; 6. Check metric labels (tenant, query_type, etc.)","Prometheus target UP, Metrics scraped successfully, Metric values accurate, Labels present and correct, No scrape errors",Prometheus server,High,Yes,20 min,Test metric cardinality
TC035,UC024,REQ-OPS-006|REQ-PERSIST-002,Functional,Operations,Point-in-Time Recovery,"Verify database can be recovered to specific timestamp","Production-like dataset, WAL enabled, Backup/restore tool, Known timestamps for recovery","1. Note timestamp T1; 2. Perform operations (create nodes A, B); 3. Note timestamp T2; 4. Perform more operations (create node C, delete node A); 5. Recover to T2; 6. Verify nodes A, B present; 7. Verify node C absent; 8. Verify node A not deleted","Database restored to exact point in time T2, Nodes A and B present, Node C absent (created after T2), Node A not deleted (deleted after T2), Recovery time < 2 hours",Time-series test data,High,Partial,90 min,Requires WAL replay capability
TC036,UC025,REQ-COMPAT-002|REQ-DIST-001,Integration,Deployment,Multi-Region AWS Deployment,"Verify successful deployment across 3 AWS regions","AWS account with 3 regions configured, Network setup (VPC peering), Terraform/IaC scripts, Budget approved","1. Run Terraform to deploy 5-node cluster (us-east-1: 2, us-west-2: 2, eu-west-1: 1); 2. Verify all nodes start; 3. Verify cross-region connectivity; 4. Verify Raft cluster formation; 5. Measure cross-region latency; 6. Test failover across regions; 7. Validate data replication","All nodes running in all regions, Raft cluster formed, Cross-region latency < 100ms, Failover works across regions, Data replicated to all regions",Multi-region test workload,Medium,Partial,180 min,Expensive test - run monthly
TC037,UC002,REQ-TENANT-005,Security,Multi-Tenancy,Cross-Tenant Data Access Prevention,"Verify tenant cannot access another tenant's data","2 tenants with data (tenant_A, tenant_B), Tenant admin credentials for both","1. Login as tenant_A admin; 2. Attempt to query tenant_B data via namespace manipulation; 3. Verify access denied; 4. Attempt to modify tenant_A context to tenant_B; 5. Verify security validation prevents access; 6. Review audit logs for access attempts","All cross-tenant access attempts denied, Clear security error messages, Access attempts logged in audit log, No data leakage",Isolated tenant test data,Critical,Yes,20 min,Security critical - test various attack vectors
TC038,UC007,REQ-OPS-010,Functional,Management,Cluster Management API,"Verify management API for cluster operations","Cluster running, Management API credentials, API client (curl/Postman)","1. GET /api/cluster/status - verify returns cluster info; 2. GET /api/nodes - list all nodes; 3. POST /api/nodes - add new node; 4. Verify node joins; 5. DELETE /api/nodes/{id} - remove node; 6. Verify graceful removal","All API endpoints respond correctly, Cluster status accurate, Nodes can be added/removed via API, API authentication works, API returns proper error codes",Management API test suite,High,Yes,30 min,Document all API endpoints
TC039,UC014,REQ-CYPHER-006,Functional,Query,Variable-Length Path Pattern,"Verify variable-length path queries work correctly","Graph with chains of relationships, Known paths of various lengths","1. Execute: MATCH (a)-[:KNOWS*1..3]->(b) RETURN a, b, length(path); 2. Verify paths of length 1, 2, 3 returned; 3. Verify no paths > 3 hops; 4. Test unbounded: MATCH (a)-[:KNOWS*]->(b); 5. Verify all paths returned (with reasonable limit)","Paths within specified range returned, Path length accurate, Unbounded query works (with limit), No infinite loops, Query performance acceptable",Test graph with known path lengths,High,Yes,15 min,Test performance on large graphs
TC040,UC006,REQ-CYPHER-009,Performance,Query,Cost-Based Query Optimization,"Verify query optimizer chooses efficient execution plan","Database with multiple indices, Statistics collected, Complex query prepared","1. Execute complex query with multiple joins; 2. Run EXPLAIN; 3. Verify optimizer chose index scan over full scan; 4. Verify join order is optimal (smallest table first); 5. Measure query time; 6. Force different plan; 7. Compare times; 8. Verify optimizer plan is faster","Optimizer chooses index scan, Join order optimized, Optimizer plan faster than naive plan, Cost estimates reasonable, EXPLAIN shows optimization decisions",Complex query test dataset,High,Partial,30 min,Requires query optimizer implementation
